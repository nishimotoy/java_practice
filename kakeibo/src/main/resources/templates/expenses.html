<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Kakeibo</title>
</head>
<body>

<h1>Expense List</h1>

<!-- 追加フォーム -->
<h2>Add Expense</h2>

<div th:replace="fragments/expense-form :: expenseForm(
        @{/expenses},
        'Add'
    )">
</div>

<hr>

<!-- 一覧表示 -->
<table border="1">
    <tr>
        <th>Date</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Memo</th>
        <th>Actions</th>
    </tr>
    <tr th:each="e : ${expenses}">
        <td th:text="${e.date}"></td>
        <td th:text="${e.category}"></td>
        <td th:text="${e.amount}"></td>
        <td th:text="${e.memo}"></td>
        <td>
        <a th:href="@{/expenses/{id}/edit(id=${e.id})}">Edit</a>
        |
        <form th:action="@{/expenses/{id}/delete(id=${e.id})}"
            method="post"
            style="display:inline"
            onsubmit="return confirm('本当に削除しますか？');">
            <button type="submit">Delete</button>
        </form>
</td>

    </tr>
</table>

</body>
</html>
